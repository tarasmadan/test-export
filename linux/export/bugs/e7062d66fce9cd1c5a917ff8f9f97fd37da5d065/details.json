{"version":1,"title":"possible deadlock in bch2_btree_roots_to_journal_entries","id":"e7062d66fce9cd1c5a917ff8f9f97fd37da5d065","fix-commits":[{"title":"bcachefs: bch2_gc_btree() should not use btree_root_lock","link":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1841027c7de47527ed819a935b7aa340b9171eb5","hash":"1841027c7de47527ed819a935b7aa340b9171eb5","repo":"git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git","branch":"master"}],"cause-commit":{"title":"bcachefs: KEY_TYPE_accounting","link":"https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=228e1c91ae5ec44f38aa8852aa3953005badce82","hash":"228e1c91ae5ec44f38aa8852aa3953005badce82","repo":"git://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git","branch":"master"},"discussions":["https://groups.google.com/d/msgid/syzkaller-bugs/0000000000000d38460619fbfd92%40google.com"],"crashes":[{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","syz-reproducer":"/text?tag=ReproSyz\u0026x=165bfa9a980000","c-reproducer":"/text?tag=ReproC\u0026x=10dc7ef2980000","kernel-config":"/text?tag=KernelConfig\u0026x=d9c3ca4e54577b88","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=0e1980c40b6edfa68b6acf926bab22448a6e40c9","kernel-source-commit":"0e1980c40b6edfa68b6acf926bab22448a6e40c9","syzkaller-git":"https://github.com/google/syzkaller/commits/3113787fe7a0c96998737e520aa95c303fdd41ef","syzkaller-commit":"3113787fe7a0c96998737e520aa95c303fdd41ef","crash-report-link":"/text?tag=CrashReport\u0026x=108af016980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=1ace69f521989b1f","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=22f902dfc51eb3602ff9b505ac3980f6ff77b1df","kernel-source-commit":"22f902dfc51eb3602ff9b505ac3980f6ff77b1df","syzkaller-git":"https://github.com/google/syzkaller/commits/2a40360c27f1cd827c9fa0183aa402ef505d07db","syzkaller-commit":"2a40360c27f1cd827c9fa0183aa402ef505d07db","crash-report-link":"/text?tag=CrashReport\u0026x=10a23935980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=864caee5f78cab51","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=661e504db04c6b7278737ee3a9116738536b4ed4","kernel-source-commit":"661e504db04c6b7278737ee3a9116738536b4ed4","syzkaller-git":"https://github.com/google/syzkaller/commits/2a40360c27f1cd827c9fa0183aa402ef505d07db","syzkaller-commit":"2a40360c27f1cd827c9fa0183aa402ef505d07db","crash-report-link":"/text?tag=CrashReport\u0026x=14174569980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=864caee5f78cab51","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=661e504db04c6b7278737ee3a9116738536b4ed4","kernel-source-commit":"661e504db04c6b7278737ee3a9116738536b4ed4","syzkaller-git":"https://github.com/google/syzkaller/commits/2a40360c27f1cd827c9fa0183aa402ef505d07db","syzkaller-commit":"2a40360c27f1cd827c9fa0183aa402ef505d07db","crash-report-link":"/text?tag=CrashReport\u0026x=16af38a5980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=1ace69f521989b1f","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=661e504db04c6b7278737ee3a9116738536b4ed4","kernel-source-commit":"661e504db04c6b7278737ee3a9116738536b4ed4","syzkaller-git":"https://github.com/google/syzkaller/commits/2a40360c27f1cd827c9fa0183aa402ef505d07db","syzkaller-commit":"2a40360c27f1cd827c9fa0183aa402ef505d07db","crash-report-link":"/text?tag=CrashReport\u0026x=17420b15980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=c950e46ec3ea637a","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e9d22f7a6655941fc8b2b942ed354ec780936b3e","kernel-source-commit":"e9d22f7a6655941fc8b2b942ed354ec780936b3e","syzkaller-git":"https://github.com/google/syzkaller/commits/409d975c59d9dbae9424c533c1d0d903fd51564f","syzkaller-commit":"409d975c59d9dbae9424c533c1d0d903fd51564f","crash-report-link":"/text?tag=CrashReport\u0026x=17a0d4e1980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=c950e46ec3ea637a","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e9d22f7a6655941fc8b2b942ed354ec780936b3e","kernel-source-commit":"e9d22f7a6655941fc8b2b942ed354ec780936b3e","syzkaller-git":"https://github.com/google/syzkaller/commits/409d975c59d9dbae9424c533c1d0d903fd51564f","syzkaller-commit":"409d975c59d9dbae9424c533c1d0d903fd51564f","crash-report-link":"/text?tag=CrashReport\u0026x=15e32ce1980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=c950e46ec3ea637a","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e9d22f7a6655941fc8b2b942ed354ec780936b3e","kernel-source-commit":"e9d22f7a6655941fc8b2b942ed354ec780936b3e","syzkaller-git":"https://github.com/google/syzkaller/commits/409d975c59d9dbae9424c533c1d0d903fd51564f","syzkaller-commit":"409d975c59d9dbae9424c533c1d0d903fd51564f","crash-report-link":"/text?tag=CrashReport\u0026x=13e74e76980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=1ace69f521989b1f","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e9d22f7a6655941fc8b2b942ed354ec780936b3e","kernel-source-commit":"e9d22f7a6655941fc8b2b942ed354ec780936b3e","syzkaller-git":"https://github.com/google/syzkaller/commits/1ecfa2d8506efdae0483eedc0b425db8537b6e80","syzkaller-commit":"1ecfa2d8506efdae0483eedc0b425db8537b6e80","crash-report-link":"/text?tag=CrashReport\u0026x=142c6635980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=2f6afbd1f6b11509","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=626737a5791b59df5c4d1365c4dcfc9b0d70affe","kernel-source-commit":"626737a5791b59df5c4d1365c4dcfc9b0d70affe","syzkaller-git":"https://github.com/google/syzkaller/commits/215eef4ad85fb6124af70d1e5c9729b69554a32b","syzkaller-commit":"215eef4ad85fb6124af70d1e5c9729b69554a32b","crash-report-link":"/text?tag=CrashReport\u0026x=12b2263e980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=f413acf5b1eb4093","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=35bb670d65fc0f80c62383ab4f2544cec85ac57a","kernel-source-commit":"35bb670d65fc0f80c62383ab4f2544cec85ac57a","syzkaller-git":"https://github.com/google/syzkaller/commits/edc5149ad2ab7a38db6b3bcb1b594e0264a92163","syzkaller-commit":"edc5149ad2ab7a38db6b3bcb1b594e0264a92163","crash-report-link":"/text?tag=CrashReport\u0026x=1064bc3e980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=47d282ddffae809f","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=83814698cf48ce3aadc5d88a3f577f04482ff92a","kernel-source-commit":"83814698cf48ce3aadc5d88a3f577f04482ff92a","syzkaller-git":"https://github.com/google/syzkaller/commits/3113787fe7a0c96998737e520aa95c303fdd41ef","syzkaller-commit":"3113787fe7a0c96998737e520aa95c303fdd41ef","crash-report-link":"/text?tag=CrashReport\u0026x=1754dc16980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=c3820d4fff43c7a3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=563a50672d8a86ec4b114a4a2f44d6e7ff855f5b","kernel-source-commit":"563a50672d8a86ec4b114a4a2f44d6e7ff855f5b","syzkaller-git":"https://github.com/google/syzkaller/commits/c2e0726105cc811a456d900c62443159acc29c32","syzkaller-commit":"c2e0726105cc811a456d900c62443159acc29c32","crash-report-link":"/text?tag=CrashReport\u0026x=172f11b6980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=53ab35b556129242","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=626737a5791b59df5c4d1365c4dcfc9b0d70affe","kernel-source-commit":"626737a5791b59df5c4d1365c4dcfc9b0d70affe","syzkaller-git":"https://github.com/google/syzkaller/commits/c2e0726105cc811a456d900c62443159acc29c32","syzkaller-commit":"c2e0726105cc811a456d900c62443159acc29c32","crash-report-link":"/text?tag=CrashReport\u0026x=163f542a980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=9a880e96898e79f8","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=a957267fa7e9159d3d2ee1421359ebf228570c68","kernel-source-commit":"a957267fa7e9159d3d2ee1421359ebf228570c68","syzkaller-git":"https://github.com/google/syzkaller/commits/2aa5052fed5f8993afacfce02174322df0f03ec4","syzkaller-commit":"2aa5052fed5f8993afacfce02174322df0f03ec4","crash-report-link":"/text?tag=CrashReport\u0026x=154f2ede980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=9a880e96898e79f8","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=a957267fa7e9159d3d2ee1421359ebf228570c68","kernel-source-commit":"a957267fa7e9159d3d2ee1421359ebf228570c68","syzkaller-git":"https://github.com/google/syzkaller/commits/2aa5052fed5f8993afacfce02174322df0f03ec4","syzkaller-commit":"2aa5052fed5f8993afacfce02174322df0f03ec4","crash-report-link":"/text?tag=CrashReport\u0026x=1100bf6a980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=d9c3ca4e54577b88","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=0e1980c40b6edfa68b6acf926bab22448a6e40c9","kernel-source-commit":"0e1980c40b6edfa68b6acf926bab22448a6e40c9","syzkaller-git":"https://github.com/google/syzkaller/commits/3113787fe7a0c96998737e520aa95c303fdd41ef","syzkaller-commit":"3113787fe7a0c96998737e520aa95c303fdd41ef","crash-report-link":"/text?tag=CrashReport\u0026x=1288b7d2980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=d9c3ca4e54577b88","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=0e1980c40b6edfa68b6acf926bab22448a6e40c9","kernel-source-commit":"0e1980c40b6edfa68b6acf926bab22448a6e40c9","syzkaller-git":"https://github.com/google/syzkaller/commits/3113787fe7a0c96998737e520aa95c303fdd41ef","syzkaller-commit":"3113787fe7a0c96998737e520aa95c303fdd41ef","crash-report-link":"/text?tag=CrashReport\u0026x=155603b4980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=d9c3ca4e54577b88","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=0e1980c40b6edfa68b6acf926bab22448a6e40c9","kernel-source-commit":"0e1980c40b6edfa68b6acf926bab22448a6e40c9","syzkaller-git":"https://github.com/google/syzkaller/commits/3113787fe7a0c96998737e520aa95c303fdd41ef","syzkaller-commit":"3113787fe7a0c96998737e520aa95c303fdd41ef","crash-report-link":"/text?tag=CrashReport\u0026x=1199bdd6980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=15349546db652fd3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=8e2f4becf4fa574b675bd7849ecffe4972447082","kernel-source-commit":"8e2f4becf4fa574b675bd7849ecffe4972447082","syzkaller-git":"https://github.com/google/syzkaller/commits/2a40360c27f1cd827c9fa0183aa402ef505d07db","syzkaller-commit":"2a40360c27f1cd827c9fa0183aa402ef505d07db","crash-report-link":"/text?tag=CrashReport\u0026x=167a346e980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=15349546db652fd3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=8e2f4becf4fa574b675bd7849ecffe4972447082","kernel-source-commit":"8e2f4becf4fa574b675bd7849ecffe4972447082","syzkaller-git":"https://github.com/google/syzkaller/commits/dc6bbff0c2fe403c39d8a1d057f668088b09069f","syzkaller-commit":"dc6bbff0c2fe403c39d8a1d057f668088b09069f","crash-report-link":"/text?tag=CrashReport\u0026x=170f7976980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=15349546db652fd3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=fdd6064ff31c1601a96126e467c3fbf2ba5e519a","kernel-source-commit":"fdd6064ff31c1601a96126e467c3fbf2ba5e519a","syzkaller-git":"https://github.com/google/syzkaller/commits/409d975c59d9dbae9424c533c1d0d903fd51564f","syzkaller-commit":"409d975c59d9dbae9424c533c1d0d903fd51564f","crash-report-link":"/text?tag=CrashReport\u0026x=11ab2a69980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=15349546db652fd3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=fdd6064ff31c1601a96126e467c3fbf2ba5e519a","kernel-source-commit":"fdd6064ff31c1601a96126e467c3fbf2ba5e519a","syzkaller-git":"https://github.com/google/syzkaller/commits/409d975c59d9dbae9424c533c1d0d903fd51564f","syzkaller-commit":"409d975c59d9dbae9424c533c1d0d903fd51564f","crash-report-link":"/text?tag=CrashReport\u0026x=178da181980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=15349546db652fd3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=fdd6064ff31c1601a96126e467c3fbf2ba5e519a","kernel-source-commit":"fdd6064ff31c1601a96126e467c3fbf2ba5e519a","syzkaller-git":"https://github.com/google/syzkaller/commits/409d975c59d9dbae9424c533c1d0d903fd51564f","syzkaller-commit":"409d975c59d9dbae9424c533c1d0d903fd51564f","crash-report-link":"/text?tag=CrashReport\u0026x=10b017ae980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=15349546db652fd3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=fdd6064ff31c1601a96126e467c3fbf2ba5e519a","kernel-source-commit":"fdd6064ff31c1601a96126e467c3fbf2ba5e519a","syzkaller-git":"https://github.com/google/syzkaller/commits/409d975c59d9dbae9424c533c1d0d903fd51564f","syzkaller-commit":"409d975c59d9dbae9424c533c1d0d903fd51564f","crash-report-link":"/text?tag=CrashReport\u0026x=165fb676980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=15349546db652fd3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=fdd6064ff31c1601a96126e467c3fbf2ba5e519a","kernel-source-commit":"fdd6064ff31c1601a96126e467c3fbf2ba5e519a","syzkaller-git":"https://github.com/google/syzkaller/commits/1ecfa2d8506efdae0483eedc0b425db8537b6e80","syzkaller-commit":"1ecfa2d8506efdae0483eedc0b425db8537b6e80","crash-report-link":"/text?tag=CrashReport\u0026x=14bb49d1980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=87d0c1f41835e600","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=5961093c073c93511e65c7783d07725a65ee0195","kernel-source-commit":"5961093c073c93511e65c7783d07725a65ee0195","syzkaller-git":"https://github.com/google/syzkaller/commits/215eef4ad85fb6124af70d1e5c9729b69554a32b","syzkaller-commit":"215eef4ad85fb6124af70d1e5c9729b69554a32b","crash-report-link":"/text?tag=CrashReport\u0026x=14640f41980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=36900d37ec67d13f","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=ac2193b4b460dfc0fe2dc8a76fe7e24e19b2cdab","kernel-source-commit":"ac2193b4b460dfc0fe2dc8a76fe7e24e19b2cdab","syzkaller-git":"https://github.com/google/syzkaller/commits/edc5149ad2ab7a38db6b3bcb1b594e0264a92163","syzkaller-commit":"edc5149ad2ab7a38db6b3bcb1b594e0264a92163","crash-report-link":"/text?tag=CrashReport\u0026x=12ba88ae980000"},{"title":"possible deadlock in bch2_btree_roots_to_journal_entries","kernel-config":"/text?tag=KernelConfig\u0026x=36900d37ec67d13f","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git/log/?id=ac2193b4b460dfc0fe2dc8a76fe7e24e19b2cdab","kernel-source-commit":"ac2193b4b460dfc0fe2dc8a76fe7e24e19b2cdab","syzkaller-git":"https://github.com/google/syzkaller/commits/edc5149ad2ab7a38db6b3bcb1b594e0264a92163","syzkaller-commit":"edc5149ad2ab7a38db6b3bcb1b594e0264a92163","crash-report-link":"/text?tag=CrashReport\u0026x=115dff56980000"}]}