{"version":1,"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free (2)","id":"67cd11310700227faea015d3064b2a77f66089ba","fix-commits":[{"title":"bpf_lru_list: Read double-checked variable once without lock","link":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6df8fb83301d68ea0a0c0e1cbcc790fcc333ed12","hash":"6df8fb83301d68ea0a0c0e1cbcc790fcc333ed12","repo":"git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git","branch":"master"}],"discussions":["https://groups.google.com/d/msgid/syzkaller-upstream-moderation/0000000000003eb8fd05b5de71f5%40google.com"],"crashes":[{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=bb1f2a2e118ba5e","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=358feceebbf68f33c44c6650d14455389e65282d","kernel-source-commit":"358feceebbf68f33c44c6650d14455389e65282d","syzkaller-git":"https://github.com/google/syzkaller/commits/98682e5e2aefc9aad61354f4f3ac93be96002a2a","syzkaller-commit":"98682e5e2aefc9aad61354f4f3ac93be96002a2a","crash-report-link":"/text?tag=CrashReport\u0026x=1622f288d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=bb1f2a2e118ba5e","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ac30d8ce28d61c05ac3a8b1452e889371136f3af","kernel-source-commit":"ac30d8ce28d61c05ac3a8b1452e889371136f3af","syzkaller-git":"https://github.com/google/syzkaller/commits/98682e5e2aefc9aad61354f4f3ac93be96002a2a","syzkaller-commit":"98682e5e2aefc9aad61354f4f3ac93be96002a2a","crash-report-link":"/text?tag=CrashReport\u0026x=15299c04d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=b093aebc6f42462","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=291009f656e8eaebbdfd3a8d99f6b190a9ce9deb","kernel-source-commit":"291009f656e8eaebbdfd3a8d99f6b190a9ce9deb","syzkaller-git":"https://github.com/google/syzkaller/commits/a5f86b15f4f60350198e4b98fb7451d45d38a186","syzkaller-commit":"a5f86b15f4f60350198e4b98fb7451d45d38a186","crash-report-link":"/text?tag=CrashReport\u0026x=162501f4d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=b093aebc6f42462","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=291009f656e8eaebbdfd3a8d99f6b190a9ce9deb","kernel-source-commit":"291009f656e8eaebbdfd3a8d99f6b190a9ce9deb","syzkaller-git":"https://github.com/google/syzkaller/commits/a52ee10ae11c1342cfca60cf3957619bcf92bd1a","syzkaller-commit":"a52ee10ae11c1342cfca60cf3957619bcf92bd1a","crash-report-link":"/text?tag=CrashReport\u0026x=10b82e3cd00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=b093aebc6f42462","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=92bf22614b21a2706f4993b278017e437f7785b3","kernel-source-commit":"92bf22614b21a2706f4993b278017e437f7785b3","syzkaller-git":"https://github.com/google/syzkaller/commits/2ce644fcea660c78bc6a3ce7e05079a730743671","syzkaller-commit":"2ce644fcea660c78bc6a3ce7e05079a730743671","crash-report-link":"/text?tag=CrashReport\u0026x=1287a75f500000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=94392716a041a4d1","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=825b5991a46ef28a05a4646c8fe1ae5cef7c7828","kernel-source-commit":"825b5991a46ef28a05a4646c8fe1ae5cef7c7828","syzkaller-git":"https://github.com/google/syzkaller/commits/2ce644fcea660c78bc6a3ce7e05079a730743671","syzkaller-commit":"2ce644fcea660c78bc6a3ce7e05079a730743671","crash-report-link":"/text?tag=CrashReport\u0026x=11d2eea0d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=94392716a041a4d1","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=964d069f93c4468b220f7e15fac7a3f7bd6d13ec","kernel-source-commit":"964d069f93c4468b220f7e15fac7a3f7bd6d13ec","syzkaller-git":"https://github.com/google/syzkaller/commits/0655e081f42239d4eca4345ef7293307085f78f5","syzkaller-commit":"0655e081f42239d4eca4345ef7293307085f78f5","crash-report-link":"/text?tag=CrashReport\u0026x=11b8428cd00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=cd45f251e8a6e679","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=1048ba83fb1c00cd24172e23e8263972f6b5d9ac","kernel-source-commit":"1048ba83fb1c00cd24172e23e8263972f6b5d9ac","syzkaller-git":"https://github.com/google/syzkaller/commits/e6b95f320e195f8f4ddab87c7442dae4b7ac4c8e","syzkaller-commit":"e6b95f320e195f8f4ddab87c7442dae4b7ac4c8e","crash-report-link":"/text?tag=CrashReport\u0026x=13da2b54d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=cd45f251e8a6e679","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=1048ba83fb1c00cd24172e23e8263972f6b5d9ac","kernel-source-commit":"1048ba83fb1c00cd24172e23e8263972f6b5d9ac","syzkaller-git":"https://github.com/google/syzkaller/commits/fc9fd31ee7998c8b747752791000ea4eef07b5c6","syzkaller-commit":"fc9fd31ee7998c8b747752791000ea4eef07b5c6","crash-report-link":"/text?tag=CrashReport\u0026x=11bc0330d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=38728258f37833e3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e5ff2cb9cf67a542f2ec7fb87e24934c88b32678","kernel-source-commit":"e5ff2cb9cf67a542f2ec7fb87e24934c88b32678","syzkaller-git":"https://github.com/google/syzkaller/commits/7df34f59bca2c74f1dfa5c198b94577cf918cbb2","syzkaller-commit":"7df34f59bca2c74f1dfa5c198b94577cf918cbb2","crash-report-link":"/text?tag=CrashReport\u0026x=1453066f500000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=38728258f37833e3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=76c057c84d286140c6c416c3b4ba832cd1d8984e","kernel-source-commit":"76c057c84d286140c6c416c3b4ba832cd1d8984e","syzkaller-git":"https://github.com/google/syzkaller/commits/a57db36fe48aa500618c2eac3b38c27afe6d290f","syzkaller-commit":"a57db36fe48aa500618c2eac3b38c27afe6d290f","crash-report-link":"/text?tag=CrashReport\u0026x=13b9b310d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=38728258f37833e3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=2ab38c17aac10bf55ab3efde4c4db3893d8691d2","kernel-source-commit":"2ab38c17aac10bf55ab3efde4c4db3893d8691d2","syzkaller-git":"https://github.com/google/syzkaller/commits/a0ebf917e7319ae8ef71cd2f36c488db8a6b384e","syzkaller-commit":"a0ebf917e7319ae8ef71cd2f36c488db8a6b384e","crash-report-link":"/text?tag=CrashReport\u0026x=1061c9b4d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=38728258f37833e3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=6ee1d745b7c9fd573fba142a2efdad76a9f1cb04","kernel-source-commit":"6ee1d745b7c9fd573fba142a2efdad76a9f1cb04","syzkaller-git":"https://github.com/google/syzkaller/commits/52e3731913ab2677be27c29ed8142b04e8f28521","syzkaller-commit":"52e3731913ab2677be27c29ed8142b04e8f28521","crash-report-link":"/text?tag=CrashReport\u0026x=11748c5f500000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=3928e70bf8932ea","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e1ae4b0be15891faf46d390e9f3dc9bd71a8cae1","kernel-source-commit":"e1ae4b0be15891faf46d390e9f3dc9bd71a8cae1","syzkaller-git":"https://github.com/google/syzkaller/commits/52e3731913ab2677be27c29ed8142b04e8f28521","syzkaller-commit":"52e3731913ab2677be27c29ed8142b04e8f28521","crash-report-link":"/text?tag=CrashReport\u0026x=1692070cd00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=924fd4e737e86684","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=45dfb8a5659ad286c28fa59008271dbc4e5e3f2d","kernel-source-commit":"45dfb8a5659ad286c28fa59008271dbc4e5e3f2d","syzkaller-git":"https://github.com/google/syzkaller/commits/d4f4eca56fbea6f58a4d5adfd19cb5e0dc32fe46","syzkaller-commit":"d4f4eca56fbea6f58a4d5adfd19cb5e0dc32fe46","crash-report-link":"/text?tag=CrashReport\u0026x=11e83dd7500000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=924fd4e737e86684","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=19c329f6808995b142b3966301f217c831e7cf31","kernel-source-commit":"19c329f6808995b142b3966301f217c831e7cf31","syzkaller-git":"https://github.com/google/syzkaller/commits/63631df1539816bc62c7be40779c5f3e23b23b2f","syzkaller-commit":"63631df1539816bc62c7be40779c5f3e23b23b2f","crash-report-link":"/text?tag=CrashReport\u0026x=13e53d34d00000"},{"title":"KCSAN: data-race in __bpf_lru_list_rotate / bpf_lru_push_free","kernel-config":"/text?tag=KernelConfig\u0026x=924fd4e737e86684","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=19c329f6808995b142b3966301f217c831e7cf31","kernel-source-commit":"19c329f6808995b142b3966301f217c831e7cf31","syzkaller-git":"https://github.com/google/syzkaller/commits/fd10362197975cb06b6b7c7616c35c6fd9821da2","syzkaller-commit":"fd10362197975cb06b6b7c7616c35c6fd9821da2","crash-report-link":"/text?tag=CrashReport\u0026x=15640db8d00000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=c89e7bf56ee8fd1c","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=0da0a8a0a0e1845f495431c3d8d733d2bbf9e9e5","kernel-source-commit":"0da0a8a0a0e1845f495431c3d8d733d2bbf9e9e5","syzkaller-git":"https://github.com/google/syzkaller/commits/813be5426a31b5b3ead90cf5729c8b7a7a17d7c1","syzkaller-commit":"813be5426a31b5b3ead90cf5729c8b7a7a17d7c1","crash-report-link":"/text?tag=CrashReport\u0026x=16634ed7500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=70e27865be346fd4","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=2ff90100ace886895e4fbb2850b8d5e49d931ed6","kernel-source-commit":"2ff90100ace886895e4fbb2850b8d5e49d931ed6","syzkaller-git":"https://github.com/google/syzkaller/commits/2c1f2513486f21d26b1942ce77ffc782677fbf4e","syzkaller-commit":"2c1f2513486f21d26b1942ce77ffc782677fbf4e","crash-report-link":"/text?tag=CrashReport\u0026x=167594db500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=96bee03d6e5bc841","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=71c061d2443814de15e177489d5cc00a4a253ef3","kernel-source-commit":"71c061d2443814de15e177489d5cc00a4a253ef3","syzkaller-git":"https://github.com/google/syzkaller/commits/c104d4a3bfc1f83e7ed33b4dca70e099402ce39f","syzkaller-commit":"c104d4a3bfc1f83e7ed33b4dca70e099402ce39f","crash-report-link":"/text?tag=CrashReport\u0026x=14905d0b500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=96bee03d6e5bc841","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=36bbbd0e234d817938bdc52121a0f5473b3e58f5","kernel-source-commit":"36bbbd0e234d817938bdc52121a0f5473b3e58f5","syzkaller-git":"https://github.com/google/syzkaller/commits/a0234d980eccaa87f5821ac8e95ed9c94a104acf","syzkaller-commit":"a0234d980eccaa87f5821ac8e95ed9c94a104acf","crash-report-link":"/text?tag=CrashReport\u0026x=14c29ba8d00000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=d40eaaeb0f83d041","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f6e1ea19649216156576aeafa784e3b4cee45549","kernel-source-commit":"f6e1ea19649216156576aeafa784e3b4cee45549","syzkaller-git":"https://github.com/google/syzkaller/commits/5cc121d679e3f161f29503eeba9288431b6d644d","syzkaller-commit":"5cc121d679e3f161f29503eeba9288431b6d644d","crash-report-link":"/text?tag=CrashReport\u0026x=120d85ff500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=d40eaaeb0f83d041","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f6e1ea19649216156576aeafa784e3b4cee45549","kernel-source-commit":"f6e1ea19649216156576aeafa784e3b4cee45549","syzkaller-git":"https://github.com/google/syzkaller/commits/ecb8c01223e441fc53045b5a3ce306442b5f0b20","syzkaller-commit":"ecb8c01223e441fc53045b5a3ce306442b5f0b20","crash-report-link":"/text?tag=CrashReport\u0026x=118e6077500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=4a412419e6c7b279","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=dea8dcf2a9fa8cc540136a6cd885c3beece16ec3","kernel-source-commit":"dea8dcf2a9fa8cc540136a6cd885c3beece16ec3","syzkaller-git":"https://github.com/google/syzkaller/commits/8259d56c46408d79f7a64443f7c25dcafb1cdc45","syzkaller-commit":"8259d56c46408d79f7a64443f7c25dcafb1cdc45","crash-report-link":"/text?tag=CrashReport\u0026x=1440cc47500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=407ffd6a3a084149","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f838f8d2b694cf9d524dc4423e9dd2db13892f3f","kernel-source-commit":"f838f8d2b694cf9d524dc4423e9dd2db13892f3f","syzkaller-git":"https://github.com/google/syzkaller/commits/821e0b09046a2f972ace26fbdc02aef1116792d4","syzkaller-commit":"821e0b09046a2f972ace26fbdc02aef1116792d4","crash-report-link":"/text?tag=CrashReport\u0026x=160a39ff500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=efb6b3c0c18a4c8c","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=8653b778e454a7708847aeafe689bce07aeeb94e","kernel-source-commit":"8653b778e454a7708847aeafe689bce07aeeb94e","syzkaller-git":"https://github.com/google/syzkaller/commits/04201c0669446145fd9c347c5538da0ca13ff29b","syzkaller-commit":"04201c0669446145fd9c347c5538da0ca13ff29b","crash-report-link":"/text?tag=CrashReport\u0026x=1437af97500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=26d4de92d4f672b6","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=7b1b868e1d9156484ccce9bf11122c053de82617","kernel-source-commit":"7b1b868e1d9156484ccce9bf11122c053de82617","syzkaller-git":"https://github.com/google/syzkaller/commits/bca53db974f570410921f59b8c2c59a3d263cb44","syzkaller-commit":"bca53db974f570410921f59b8c2c59a3d263cb44","crash-report-link":"/text?tag=CrashReport\u0026x=165b477f500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=329e76890d0bf5c3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ca4bbdaf171604841f77648a2877e2e43db69b71","kernel-source-commit":"ca4bbdaf171604841f77648a2877e2e43db69b71","syzkaller-git":"https://github.com/google/syzkaller/commits/c090b4da255257841173fb4eb18c19d69b293180","syzkaller-commit":"c090b4da255257841173fb4eb18c19d69b293180","crash-report-link":"/text?tag=CrashReport\u0026x=172fdcbd500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=329e76890d0bf5c3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=cd796ed3345030aa1bb332fe5c793b3dddaf56e7","kernel-source-commit":"cd796ed3345030aa1bb332fe5c793b3dddaf56e7","syzkaller-git":"https://github.com/google/syzkaller/commits/9af51e31617374d564a98084b3848045bc026a0f","syzkaller-commit":"9af51e31617374d564a98084b3848045bc026a0f","crash-report-link":"/text?tag=CrashReport\u0026x=1756c287500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=329e76890d0bf5c3","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=0477e92881850d44910a7e94fc2c46f96faa131f","kernel-source-commit":"0477e92881850d44910a7e94fc2c46f96faa131f","syzkaller-git":"https://github.com/google/syzkaller/commits/f80ce148aeb891e3335fb38ed9b48b005ca76529","syzkaller-commit":"f80ce148aeb891e3335fb38ed9b48b005ca76529","crash-report-link":"/text?tag=CrashReport\u0026x=14b148cb500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=ee0e76f7f5b45069","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c2dc4c073fb71b50904493657a7622b481b346e3","kernel-source-commit":"c2dc4c073fb71b50904493657a7622b481b346e3","syzkaller-git":"https://github.com/google/syzkaller/commits/8bc4594f832068a30c0eff44d468311780057d1f","syzkaller-commit":"8bc4594f832068a30c0eff44d468311780057d1f","crash-report-link":"/text?tag=CrashReport\u0026x=17afcbcc500000"},{"title":"","kernel-config":"/text?tag=KernelConfig\u0026x=36817a9c8bf9aae","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ed8780e3f2ecc82645342d070c6b4e530532e680","kernel-source-commit":"ed8780e3f2ecc82645342d070c6b4e530532e680","syzkaller-git":"https://github.com/google/syzkaller/commits/96e03c1c31a7f2e7f80b2d8b9f3df117df5030d1","syzkaller-commit":"96e03c1c31a7f2e7f80b2d8b9f3df117df5030d1","crash-report-link":"/text?tag=CrashReport\u0026x=14665812500000"}]}