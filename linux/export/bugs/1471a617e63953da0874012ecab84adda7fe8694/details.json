{"version":1,"title":"KASAN: use-after-free Read in check_dirent","id":"1471a617e63953da0874012ecab84adda7fe8694","status":"upstream: reported C repro on 2025/02/21 16:28","first-crash":"2025-02-21T02:22:21.342871Z","last-crash":"2025-08-22T08:26:29.302183Z","fix-time":"2025-07-19T19:19:13.031984Z","fix-commits":[{"title":"bcachefs: Fix UAF in check_dirent()","repo":"git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git","branch":"master"}],"cause-commit":{"title":"bcachefs: Handle -BCH_ERR_need_mark_replicas in gc","link":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=cf3da2d627037a0848e25dbaeaedfadfe534c7c4","hash":"cf3da2d627037a0848e25dbaeaedfadfe534c7c4","repo":"git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git","branch":"master","date":"2024-12-16T18:58:02Z"},"discussions":["https://groups.google.com/d/msgid/syzkaller-bugs/67b8a9a7.050a0220.14d86d.0578.GAE@google.com"],"crashes":[{"title":"KASAN: use-after-free Read in check_dirent","syz-reproducer":"/text?tag=ReproSyz\u0026x=128a83b8580000","c-reproducer":"/text?tag=ReproC\u0026x=17ca7ba4580000","kernel-config":"/text?tag=KernelConfig\u0026x=b03346163189483c","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=27eddbf3449026a73d6ed52d55b192bfcf526a03","kernel-source-commit":"27eddbf3449026a73d6ed52d55b192bfcf526a03","syzkaller-git":"https://github.com/google/syzkaller/commits/0808a665bc75ab0845906bfeca0d12fb520ae6eb","syzkaller-commit":"0808a665bc75ab0845906bfeca0d12fb520ae6eb","crash-report-link":"/text?tag=CrashReport\u0026x=13c36ba4580000"},{"title":"KASAN: use-after-free Read in check_dirent","syz-reproducer":"/text?tag=ReproSyz\u0026x=14ce6ba4580000","c-reproducer":"/text?tag=ReproC\u0026x=11300db0580000","kernel-config":"/text?tag=KernelConfig\u0026x=b03346163189483c","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=27eddbf3449026a73d6ed52d55b192bfcf526a03","kernel-source-commit":"27eddbf3449026a73d6ed52d55b192bfcf526a03","syzkaller-git":"https://github.com/google/syzkaller/commits/0808a665bc75ab0845906bfeca0d12fb520ae6eb","syzkaller-commit":"0808a665bc75ab0845906bfeca0d12fb520ae6eb","crash-report-link":"/text?tag=CrashReport\u0026x=16300db0580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=da02162f945f3311","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=3957a5720157264dcc41415fbec7c51c4000fc2d","kernel-source-commit":"3957a5720157264dcc41415fbec7c51c4000fc2d","syzkaller-git":"https://github.com/google/syzkaller/commits/bf27483f963359281b2d9b6d6efd36289f82e282","syzkaller-commit":"bf27483f963359281b2d9b6d6efd36289f82e282","crash-report-link":"/text?tag=CrashReport\u0026x=132ff442580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=dbbd8aa95cf748b8","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=90d970cade8e67e20b09bbfdc2f0b52064322921","kernel-source-commit":"90d970cade8e67e20b09bbfdc2f0b52064322921","syzkaller-git":"https://github.com/google/syzkaller/commits/1804e95e3ff848c11e87e8efe7560f03c011c081","syzkaller-commit":"1804e95e3ff848c11e87e8efe7560f03c011c081","crash-report-link":"/text?tag=CrashReport\u0026x=167eb3a2580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=8d0219c641d32503","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e8d780dcd957d80725ad5dd00bab53b856429bc0","kernel-source-commit":"e8d780dcd957d80725ad5dd00bab53b856429bc0","syzkaller-git":"https://github.com/google/syzkaller/commits/f8f2b4da0e6eaaf0aeed6f6d613d86d599aafcd3","syzkaller-commit":"f8f2b4da0e6eaaf0aeed6f6d613d86d599aafcd3","crash-report-link":"/text?tag=CrashReport\u0026x=10032ca2580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=e52bbf78d82315ee","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=3b07108ada81a8ebcebf1fe61367b4e436c895bd","kernel-source-commit":"3b07108ada81a8ebcebf1fe61367b4e436c895bd","syzkaller-git":"https://github.com/google/syzkaller/commits/988b336c79bf2f92392015e5075e92f0148ad869","syzkaller-commit":"988b336c79bf2f92392015e5075e92f0148ad869","crash-report-link":"/text?tag=CrashReport\u0026x=121fac04580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=d48017cf0c2458bf","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=1a9239bb4253f9076b5b4b2a1a4e8d7defd77a95","kernel-source-commit":"1a9239bb4253f9076b5b4b2a1a4e8d7defd77a95","syzkaller-git":"https://github.com/google/syzkaller/commits/6c09fb82edbf8c19be0a3ea3e1e823c8891ee5a1","syzkaller-commit":"6c09fb82edbf8c19be0a3ea3e1e823c8891ee5a1","crash-report-link":"/text?tag=CrashReport\u0026x=110e4678580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=7b55e322ec05153e","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=2df0c02dab829dd89360d98a8a1abaa026ef5798","kernel-source-commit":"2df0c02dab829dd89360d98a8a1abaa026ef5798","syzkaller-git":"https://github.com/google/syzkaller/commits/89d30d7360d4a366f8fdf00d6ac56cced7a45b0b","syzkaller-commit":"89d30d7360d4a366f8fdf00d6ac56cced7a45b0b","crash-report-link":"/text?tag=CrashReport\u0026x=148e9804580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=8455c16a5880a6bb","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=a7f2e10ecd8f18b83951b0bab47ddaf48f93bf47","kernel-source-commit":"a7f2e10ecd8f18b83951b0bab47ddaf48f93bf47","syzkaller-git":"https://github.com/google/syzkaller/commits/3b7445cf7f3c99cd574fc04ecdda1a67097cf55f","syzkaller-commit":"3b7445cf7f3c99cd574fc04ecdda1a67097cf55f","crash-report-link":"/text?tag=CrashReport\u0026x=1273f44c580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=43b500d7b68f7f9b","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=d082ecbc71e9e0bf49883ee4afd435a77a5101b6","kernel-source-commit":"d082ecbc71e9e0bf49883ee4afd435a77a5101b6","syzkaller-git":"https://github.com/google/syzkaller/commits/d34966d146f584d390b49f213d1fccd59548dc6d","syzkaller-commit":"d34966d146f584d390b49f213d1fccd59548dc6d","crash-report-link":"/text?tag=CrashReport\u0026x=136337a4580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=43b500d7b68f7f9b","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=d082ecbc71e9e0bf49883ee4afd435a77a5101b6","kernel-source-commit":"d082ecbc71e9e0bf49883ee4afd435a77a5101b6","syzkaller-git":"https://github.com/google/syzkaller/commits/d34966d146f584d390b49f213d1fccd59548dc6d","syzkaller-commit":"d34966d146f584d390b49f213d1fccd59548dc6d","crash-report-link":"/text?tag=CrashReport\u0026x=174e7fdf980000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=b03346163189483c","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=27eddbf3449026a73d6ed52d55b192bfcf526a03","kernel-source-commit":"27eddbf3449026a73d6ed52d55b192bfcf526a03","syzkaller-git":"https://github.com/google/syzkaller/commits/0808a665bc75ab0845906bfeca0d12fb520ae6eb","syzkaller-commit":"0808a665bc75ab0845906bfeca0d12fb520ae6eb","crash-report-link":"/text?tag=CrashReport\u0026x=17683ae4580000"},{"title":"KASAN: use-after-free Read in check_dirent","kernel-config":"/text?tag=KernelConfig\u0026x=b03346163189483c","kernel-source-git":"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=27eddbf3449026a73d6ed52d55b192bfcf526a03","kernel-source-commit":"27eddbf3449026a73d6ed52d55b192bfcf526a03","syzkaller-git":"https://github.com/google/syzkaller/commits/0808a665bc75ab0845906bfeca0d12fb520ae6eb","syzkaller-commit":"0808a665bc75ab0845906bfeca0d12fb520ae6eb","crash-report-link":"/text?tag=CrashReport\u0026x=1135aba4580000"}]}